<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>United Baggage Assistant - Register New Bag - Registration Finsihed</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  {% load static %}
  <link rel="stylesheet" type="text/css" href="{% static 'Baggage_Recovery_App/style.css' %}">
  <link rel='stylesheet' href='https://oss.maxcdn.com/semantic-ui/2.1.8/semantic.min.css' />
</head>
<body class="ui">
  <div class="nav-bar">
    <div class="nav-bar-button">
      <a href="../warehouse.html"><i class="angle left icon"></i>Back</a>
    </div>
    <div class="nav-bar-logo"><img src={% static 'Baggage_Recovery_App/asset/UA-logo-white.svg' %} alt="ua logo"></div>
  </div>

  <div class="main">
    {% if reports %}
    <div class="ui info message">
      <div class="header">
        We found some reports that might match with the bag you just registered!
      </div>
    </div>
    {% else %}
    <div class="ui warning message">
      <i class="close icon"></i>
      <div class="header">
        We didnâ€™t find any matching reports for this bag.
      </div>
      <ul class="list">
        <li>This is likely because the owner of this bag has not yet filed a report for it.</li>
        <li>This bag will try to be matched as more reports come in.</li>
      </ul>
    </div>
    {% endif %}

    <div class="current-bag">
      <h3>The Bag You Just Registered</h3>
      <input type="hidden" id="currentBagId" name="currentBagId" value="{{ bag.bagid }}">
      <img src="{{ bag.bagImage }}" alt="current bag image">
    </div>

    {% if not reports %}
    <div class="bottom-button">
        <a class="ui ua-blue fluid circular button" href="../warehouse.html">Back to Home Page</a>
    </div>
    {% endif %}

    {% if reports %}
    <h3>Missing Reports from Passengers</h3>
    <div class="possible-reports ui">
      {% for report in reports %}
      <div class="ui raised card" reportId="{{ report.reportId }}">
        <div class="card-image image">
          <img src="{{ report.bagImage }}">
        </div>

        <div class="content">
          <h3 class="header">Appearance</h3>
          <div>
            <table class="content-table">
              <tr>
                <th>Item</th>
                <th>Customer Identified</th>
                <th>Warehouse Identified</th>
              </tr>
              <tr>
                <td>{{ bag.ITEM1NAME }}</td>
                <td>{{ report.ITEM1 }}</td>
                <td class="ua-blue">{{ bag.ITEM1 }}</td>
              </tr>
              <tr>
                <td>{{ bag.ITEM2NAME }}</td>
                <td>{{ report.ITEM2 }}</td>
                <td class="ua-blue">{{ bag.ITEM2 }}</td>
              </tr>
              <tr>
                <td>{{ bag.ITEM3NAME }}</td>
                <td>{{ report.ITEM3 }}</td>
                <td class="ua-blue">{{ bag.ITEM3 }}</td>
              </tr>
              <tr>
                <td>{{ bag.ITEM4NAME }}</td>
                <td>{{ report.ITEM4 }}</td>
                <td class="ua-blue">{{ bag.ITEM4 }}</td>
              </tr>
              <tr>
                <td>{{ bag.ITEM5NAME }}</td>
                <td>{{ report.ITEM5 }}</td>
                <td class="ua-blue">{{ bag.ITEM5 }}</td>
              </tr>
              <tr>
                <td>{{ bag.ITEM6NAME }}</td>
                <td>{{ report.ITEM6 }}</td>
                <td class="ua-blue">{{ bag.ITEM6 }}</td>
              </tr>
              <tr>
                <td>{{ bag.ITEM7NAME }}</td>
                <td>{{ report.ITEM7 }}</td>
                <td class="ua-blue">{{ bag.ITEM7 }}</td>
              </tr>
              <tr>
                <td>{{ bag.ITEM8NAME }}</td>
                <td>{{ report.ITEM8 }}</td>
                <td class="ua-blue">{{ bag.ITEM8 }}</td>
              </tr>
              <tr>
                <td>{{ bag.ITEM9NAME }}</td>
                <td>{{ report.ITEM9 }}</td>
                <td class="ua-blue">{{ bag.ITEM9 }}</td>
              </tr>
              <tr>
                <td>{{ bag.ITEM10NAME }}</td>
                <td>{{ report.ITEM10 }}</td>
                <td class="ua-blue">{{ bag.ITEM10 }}</td>
              </tr>
            </table>
          </div>
          <h3 class="header">Details</h3>
            <div class="meta">From Report</div>
            {{ report.details }}
          <div class="detail-section">
            <div class="meta">Current Bag</div>
            {{ bag.details }}
          </div>
          <div class="ui fluid buttons">
            <a class="ui blue basic circular button" onclick="submitCorrectReport(this)">Confirm Matching</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <div class="bottom-button">
      <a class="ui yellow fluid circular button" onclick="submitNoReportsAreCorrect()">None of these reports match</a>
    </div>
    {% endif %}
  </div>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.0/semantic.min.js"></script>
  <script type="text/javascript" src={% static 'Baggage_Recovery_App/wh-register-new-bag/app.js'%}></script>
</body>
</html>
